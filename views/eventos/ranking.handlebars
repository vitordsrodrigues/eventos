<div class="container mt-5">
    <div class="text-center mb-5">
        <div class="position-relative d-inline-block">
            <h2 class="display-4 fw-bold text-primary mb-3">
                <i class="bi bi-trophy-fill me-2"></i>Ranking de Participações
            </h2>
            <div class="accent-line"></div>
        </div>
        <p class="lead text-muted">
            Os usuários mais ativos em nossos eventos
        </p>
    </div>

    <div class="row justify-content-center">
        <div class="col-12 col-lg-8">
            {{#each ranking}}
                <div class="card mb-3 shadow-sm hover-card">
                    <div class="card-body d-flex align-items-center">
                        <div class="position-relative">
                            {{#if @index}}
                                <span class="position-badge">#{{add @index 1}}</span>
                            {{else}}
                                <span class="position-badge-first">#1</span>
                            {{/if}}
                            
                            {{#if this.imagem}}
                                <div class="rounded-circle overflow-hidden me-3" style="width: 60px; height: 60px;">
                                    <img src="/uploads/{{this.imagem}}" 
                                         alt="Profile" 
                                         class="w-100 h-100"
                                         style="object-fit: cover;">
                                </div>
                            {{else}}
                                <div class="rounded-circle bg-light me-3 d-flex align-items-center justify-content-center" style="width: 60px; height: 60px;">
                                    <i class="bi bi-person-circle text-secondary" style="font-size: 2rem;"></i>
                                </div>
                            {{/if}}
                        </div>
                        
                        <div class="flex-grow-1">
                            <h5 class="mb-1">{{this.name}}</h5>
                            <p class="mb-0 text-muted">
                                <i class="bi bi-calendar-check me-2"></i>
                                {{this.participationCount}} eventos participados
                            </p>
                        </div>
                        
                        {{#if @first}}
                            <i class="bi bi-trophy-fill text-warning fs-3"></i>
                        {{else}}
                            {{#if (eq @index 1)}}
                                <i class="bi bi-trophy-fill text-secondary fs-3"></i>
                            {{else}}
                                {{#if (eq @index 2)}}
                                    <i class="bi bi-trophy-fill text-bronze fs-3"></i>
                                {{/if}}
                            {{/if}}
                        {{/if}}
                    </div>
                </div>
            {{/each}}
        </div>
    </div>
</div>

<style>
    .hover-card {
        transition: transform 0.2s;
    }
    
    .hover-card:hover {
        transform: scale(1.05);
    }
</style> 